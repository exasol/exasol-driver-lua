<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="291px" preserveAspectRatio="none" style="width:639px;height:291px;background:#FFFFFF;" version="1.1" viewBox="0 0 639 291" width="639px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="208.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="49" y="66.9766"/><rect fill="#FFFFFF" height="174.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="199" y="92.2871"/><rect fill="#FFFFFF" height="149.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="401" y="125.5977"/><rect fill="#FFFFFF" height="208.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="558" y="66.9766"/><rect fill="#FFFFFF" height="60.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="563" y="158.9082"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="54" x2="54" y1="56.9766" y2="284.5293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="203.5" x2="203.5" y1="56.9766" y2="284.5293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="406" x2="406" y1="56.9766" y2="284.5293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="563" x2="563" y1="56.9766" y2="284.5293"/><rect fill="#E2E2F0" height="50.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="5" y="5"/><text fill="#000000" font-family="Calibri" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="18.5" y="27.5352">«external»</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="80" x="14" y="44.0234">Client Code</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="141.5" y="19.9766"/><ellipse cx="159.5" cy="37.9766" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M161.9731,44.1196 Q161.3921,44.4185 160.7529,44.5679 Q160.1138,44.7173 159.4082,44.7173 Q156.9014,44.7173 155.5815,43.0654 Q154.2617,41.4136 154.2617,38.2925 Q154.2617,35.1631 155.5815,33.5112 Q156.9014,31.8594 159.4082,31.8594 Q160.1138,31.8594 160.7612,32.0088 Q161.4087,32.1582 161.9731,32.457 L161.9731,35.1797 Q161.3423,34.5986 160.7488,34.3289 Q160.1553,34.0591 159.5244,34.0591 Q158.1797,34.0591 157.4949,35.1257 Q156.8101,36.1924 156.8101,38.2925 Q156.8101,40.3843 157.4949,41.4509 Q158.1797,42.5176 159.5244,42.5176 Q160.1553,42.5176 160.7488,42.2478 Q161.3423,41.978 161.9731,41.397 Z " fill="#000000"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="79" x="178.5" y="42.5117">Connection</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="324" y="19.9766"/><ellipse cx="342" cy="37.9766" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M344.4731,44.1196 Q343.8921,44.4185 343.2529,44.5679 Q342.6138,44.7173 341.9082,44.7173 Q339.4014,44.7173 338.0815,43.0654 Q336.7617,41.4136 336.7617,38.2925 Q336.7617,35.1631 338.0815,33.5112 Q339.4014,31.8594 341.9082,31.8594 Q342.6138,31.8594 343.2612,32.0088 Q343.9087,32.1582 344.4731,32.457 L344.4731,35.1797 Q343.8423,34.5986 343.2488,34.3289 Q342.6553,34.0591 342.0244,34.0591 Q340.6797,34.0591 339.9949,35.1257 Q339.3101,36.1924 339.3101,38.2925 Q339.3101,40.3843 339.9949,41.4509 Q340.6797,42.5176 342.0244,42.5176 Q342.6553,42.5176 343.2488,42.2478 Q343.8423,41.978 344.4731,41.397 Z " fill="#000000"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="118" x="361" y="42.5117">ExasolWebsocket</text><rect fill="#E2E2F0" height="34.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="498" y="21.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="112" x="507" y="44.0234">Exasol Database</text><rect fill="#FFFFFF" height="208.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="49" y="66.9766"/><rect fill="#FFFFFF" height="174.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="199" y="92.2871"/><rect fill="#FFFFFF" height="149.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="401" y="125.5977"/><rect fill="#FFFFFF" height="208.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="558" y="66.9766"/><rect fill="#FFFFFF" height="60.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="563" y="158.9082"/><polygon fill="#181818" points="187,88.2871,197,92.2871,187,96.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59" x2="193" y1="92.2871" y2="92.2871"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="59" x="68" y="85.5449">rollback()</text><polygon fill="#181818" points="389,121.5977,399,125.5977,389,129.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="209" x2="395" y1="125.5977" y2="125.5977"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="169" x="218" y="118.8555">send_execute("ROLLBACK")</text><polygon fill="#181818" points="551,154.9082,561,158.9082,551,162.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="557" y1="158.9082" y2="158.9082"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="49" x="420" y="152.166">execute</text><line style="stroke:#181818;stroke-width:1.0;" x1="573" x2="615" y1="192.2188" y2="192.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="615" x2="615" y1="192.2188" y2="205.2188"/><line style="stroke:#181818;stroke-width:1.0;" x1="574" x2="615" y1="205.2188" y2="205.2188"/><polygon fill="#181818" points="584,201.2188,574,205.2188,584,209.2188" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="50" x="582" y="185.4766">Commit</text><polygon fill="#181818" points="422,215.2188,412,219.2188,422,223.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="416" x2="557" y1="219.2188" y2="219.2188"/><polygon fill="#181818" points="220,229.2188,210,233.2188,220,237.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="214" x2="400" y1="233.2188" y2="233.2188"/><polygon fill="#181818" points="70,262.5293,60,266.5293,70,270.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="64" x2="203" y1="266.5293" y2="266.5293"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="112" x="78" y="259.7871">Success (boolean)</text><!--MD5=[1d975da1937b09968af3fe4e644b8591]
@startuml seq_connection_rollback
!include ../clean.skin

participant "Client Code" as client <<external>>
participant Connection as conn << (C,#ADD1B2) >>
participant ExasolWebsocket as ws << (C,#ADD1B2) >>
participant "Exasol Database" as db

activate client
activate db

' [dsn -> req~luasql-connection-rollback~1 >> impl,utest,itest]
client -> conn: rollback()
activate conn
conn -> ws: send_execute("ROLLBACK")
activate ws

ws -> db: execute
activate db
db -> db: Commit
db - -> ws
deactivate db
ws - -> conn
conn - -> client: Success (boolean)
deactivate conn

@enduml

@startuml seq_connection_rollback
hide empty methods
hide empty attributes
skinparam style strictuml
skinparam classAttributeIconSize 0
!pragma horizontalLineBetweenDifferentPackageAllowed

skinparam defaultFontName Calibri

skinparam padding 2

participant "Client Code" as client <<external>>
participant Connection as conn << (C,#ADD1B2) >>
participant ExasolWebsocket as ws << (C,#ADD1B2) >>
participant "Exasol Database" as db

activate client
activate db

client -> conn: rollback()
activate conn
conn -> ws: send_execute("ROLLBACK")
activate ws

ws -> db: execute
activate db
db -> db: Commit
db - -> ws
deactivate db
ws - -> conn
conn - -> client: Success (boolean)
deactivate conn

@enduml

PlantUML version 1.2022.2(Sat Mar 05 17:30:19 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>