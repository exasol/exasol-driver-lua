<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="333px" preserveAspectRatio="none" style="width:639px;height:333px;background:#FFFFFF;" version="1.1" viewBox="0 0 639 333" width="639px" zoomAndPan="magnify"><defs/><g><rect height="30.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="292" x="176.5" y="10"/><text fill="#000000" font-family="Calibri" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="278" x="183.5" y="30.5352">Rolling back changes for a Connection</text><rect fill="#FFFFFF" height="208.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="49" y="108.4648"/><rect fill="#FFFFFF" height="174.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="199" y="133.7754"/><rect fill="#FFFFFF" height="149.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="401" y="167.0859"/><rect fill="#FFFFFF" height="208.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="558" y="108.4648"/><rect fill="#FFFFFF" height="60.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="563" y="200.3965"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="54" x2="54" y1="98.4648" y2="326.0176"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="203.5" x2="203.5" y1="98.4648" y2="326.0176"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="406" x2="406" y1="98.4648" y2="326.0176"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="563" x2="563" y1="98.4648" y2="326.0176"/><rect fill="#E2E2F0" height="50.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="5" y="46.4883"/><text fill="#000000" font-family="Calibri" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="18.5" y="69.0234">«external»</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="80" x="14" y="85.5117">Client Code</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="141.5" y="61.4648"/><ellipse cx="159.5" cy="79.4648" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M161.9731,85.6079 Q161.3921,85.9067 160.7529,86.0562 Q160.1138,86.2056 159.4082,86.2056 Q156.9014,86.2056 155.5815,84.5537 Q154.2617,82.9019 154.2617,79.7808 Q154.2617,76.6514 155.5815,74.9995 Q156.9014,73.3477 159.4082,73.3477 Q160.1138,73.3477 160.7612,73.4971 Q161.4087,73.6465 161.9731,73.9453 L161.9731,76.668 Q161.3423,76.0869 160.7488,75.8171 Q160.1553,75.5474 159.5244,75.5474 Q158.1797,75.5474 157.4949,76.614 Q156.8101,77.6807 156.8101,79.7808 Q156.8101,81.8726 157.4949,82.9392 Q158.1797,84.0059 159.5244,84.0059 Q160.1553,84.0059 160.7488,83.7361 Q161.3423,83.4663 161.9731,82.8853 Z " fill="#000000"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="79" x="178.5" y="84">Connection</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="324" y="61.4648"/><ellipse cx="342" cy="79.4648" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M344.4731,85.6079 Q343.8921,85.9067 343.2529,86.0562 Q342.6138,86.2056 341.9082,86.2056 Q339.4014,86.2056 338.0815,84.5537 Q336.7617,82.9019 336.7617,79.7808 Q336.7617,76.6514 338.0815,74.9995 Q339.4014,73.3477 341.9082,73.3477 Q342.6138,73.3477 343.2612,73.4971 Q343.9087,73.6465 344.4731,73.9453 L344.4731,76.668 Q343.8423,76.0869 343.2488,75.8171 Q342.6553,75.5474 342.0244,75.5474 Q340.6797,75.5474 339.9949,76.614 Q339.3101,77.6807 339.3101,79.7808 Q339.3101,81.8726 339.9949,82.9392 Q340.6797,84.0059 342.0244,84.0059 Q342.6553,84.0059 343.2488,83.7361 Q343.8423,83.4663 344.4731,82.8853 Z " fill="#000000"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="118" x="361" y="84">ExasolWebsocket</text><rect fill="#E2E2F0" height="34.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="498" y="62.9766"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="112" x="507" y="85.5117">Exasol Database</text><rect fill="#FFFFFF" height="208.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="49" y="108.4648"/><rect fill="#FFFFFF" height="174.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="199" y="133.7754"/><rect fill="#FFFFFF" height="149.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="401" y="167.0859"/><rect fill="#FFFFFF" height="208.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="558" y="108.4648"/><rect fill="#FFFFFF" height="60.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="563" y="200.3965"/><polygon fill="#181818" points="187,129.7754,197,133.7754,187,137.7754" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59" x2="193" y1="133.7754" y2="133.7754"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="59" x="68" y="127.0332">rollback()</text><polygon fill="#181818" points="389,163.0859,399,167.0859,389,171.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="209" x2="395" y1="167.0859" y2="167.0859"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="169" x="218" y="160.3438">send_execute("ROLLBACK")</text><polygon fill="#181818" points="551,196.3965,561,200.3965,551,204.3965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="557" y1="200.3965" y2="200.3965"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="49" x="420" y="193.6543">execute</text><line style="stroke:#181818;stroke-width:1.0;" x1="573" x2="615" y1="233.707" y2="233.707"/><line style="stroke:#181818;stroke-width:1.0;" x1="615" x2="615" y1="233.707" y2="246.707"/><line style="stroke:#181818;stroke-width:1.0;" x1="574" x2="615" y1="246.707" y2="246.707"/><polygon fill="#181818" points="584,242.707,574,246.707,584,250.707" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="50" x="582" y="226.9648">Commit</text><polygon fill="#181818" points="422,256.707,412,260.707,422,264.707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="416" x2="557" y1="260.707" y2="260.707"/><polygon fill="#181818" points="220,270.707,210,274.707,220,278.707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="214" x2="400" y1="274.707" y2="274.707"/><polygon fill="#181818" points="70,304.0176,60,308.0176,70,312.0176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="64" x2="203" y1="308.0176" y2="308.0176"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="112" x="78" y="301.2754">Success (boolean)</text><!--MD5=[53a8a0b0865bc13acb1f4c4ffa8ba3c2]
@startuml seq_connection_rollback
!include ../clean.skin

title: Rolling back changes for a Connection

participant "Client Code" as client <<external>>
participant Connection as conn << (C,#ADD1B2) >>
participant ExasolWebsocket as ws << (C,#ADD1B2) >>
participant "Exasol Database" as db

activate client
activate db

client -> conn: rollback()
activate conn
conn -> ws: send_execute("ROLLBACK")
activate ws

ws -> db: execute
activate db
db -> db: Commit
db - -> ws
deactivate db
ws - -> conn
conn - -> client: Success (boolean)
deactivate conn

@enduml

@startuml seq_connection_rollback
hide empty methods
hide empty attributes
skinparam style strictuml
skinparam classAttributeIconSize 0
!pragma horizontalLineBetweenDifferentPackageAllowed

skinparam defaultFontName Calibri

skinparam padding 2

title: Rolling back changes for a Connection

participant "Client Code" as client <<external>>
participant Connection as conn << (C,#ADD1B2) >>
participant ExasolWebsocket as ws << (C,#ADD1B2) >>
participant "Exasol Database" as db

activate client
activate db

client -> conn: rollback()
activate conn
conn -> ws: send_execute("ROLLBACK")
activate ws

ws -> db: execute
activate db
db -> db: Commit
db - -> ws
deactivate db
ws - -> conn
conn - -> client: Success (boolean)
deactivate conn

@enduml

PlantUML version 1.2022.2(Sat Mar 05 17:30:19 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>