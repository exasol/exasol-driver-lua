<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1151px" preserveAspectRatio="none" style="width:1313px;height:1151px;background:#FFFFFF;" version="1.1" viewBox="0 0 1313 1151" width="1313px" zoomAndPan="magnify"><defs/><g><!--MD5=[51c1fab218b5ffab67117173ca726b63]
cluster luasql.exasol--><g id="cluster_luasql.exasol"><path d="M414.5,6 L512.5,6 A3.75,3.75 0 0 1 515,8.5 L522,32.4883 L1303.5,32.4883 A2.5,2.5 0 0 1 1306,34.9883 L1306,1141.5 A2.5,2.5 0 0 1 1303.5,1144 L414.5,1144 A2.5,2.5 0 0 1 412,1141.5 L412,8.5 A2.5,2.5 0 0 1 414.5,6 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="412" x2="522" y1="32.4883" y2="32.4883"/><text fill="#000000" font-family="Calibri" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="93" x="418" y="23.5352">luasql.exasol</text></g><!--MD5=[d5fbf8f564a7051c6856706d2ea69af4]
cluster websocket--><g id="cluster_websocket"><path d="M438.5,413 L519.5,413 A3.75,3.75 0 0 1 522,415.5 L529,439.4883 L991.5,439.4883 A2.5,2.5 0 0 1 994,441.9883 L994,1117.5 A2.5,2.5 0 0 1 991.5,1120 L438.5,1120 A2.5,2.5 0 0 1 436,1117.5 L436,415.5 A2.5,2.5 0 0 1 438.5,413 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="436" x2="529" y1="439.4883" y2="439.4883"/><text fill="#000000" font-family="Calibri" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="76" x="442" y="430.5352">websocket</text></g><!--MD5=[a04eb0dec49cb8cc8571a394f3998a63]
cluster togglebits--><g id="cluster_togglebits"><a href="https://github.com/toggledbits/LuWS" target="_top" title="https://github.com/toggledbits/LuWS" xlink:actuate="onRequest" xlink:href="https://github.com/toggledbits/LuWS" xlink:show="new" xlink:title="https://github.com/toggledbits/LuWS" xlink:type="simple"><path d="M8.5,701 L87.5,701 A3.75,3.75 0 0 1 90,703.5 L97,727.4883 L385.5,727.4883 A2.5,2.5 0 0 1 388,729.9883 L388,893.5 A2.5,2.5 0 0 1 385.5,896 L8.5,896 A2.5,2.5 0 0 1 6,893.5 L6,703.5 A2.5,2.5 0 0 1 8.5,701 " style="stroke:#000000;stroke-width:1.5;fill:none;"/><line style="stroke:#000000;stroke-width:1.5;fill:none;" x1="6" x2="97" y1="727.4883" y2="727.4883"/><text fill="#000000" font-family="Calibri" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="74" x="12" y="718.5352">togglebits</text><text fill="#000000" font-family="Calibri" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="165.5" y="745.0234">«external»</text></a></g><!--MD5=[17fdf1625663ae1a707ad7064a5e93f5]
class entry--><g id="elem_entry"><rect codeLine="5" fill="#F1F1F1" height="58.9766" id="entry" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="572" y="55"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="35" x="595.5" y="75.5352">entry</text><line style="stroke:#181818;stroke-width:0.5;" x1="573" x2="653" y1="85.4883" y2="85.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="66" x="580" y="105.0234">+exasol()</text></g><!--MD5=[5d0a77e8f66918aa15fe0099dd6d4ba9]
class Environment--><g id="elem_Environment"><rect codeLine="9" fill="#F1F1F1" height="79.4648" id="Environment" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="412" x="733" y="45"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="87" x="895.5" y="65.5352">Environment</text><line style="stroke:#181818;stroke-width:0.5;" x1="734" x2="1144" y1="75.4883" y2="75.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="396" x="741" y="95.0234">+connect(sourcename, username, password): Connection</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="120" x="741" y="115.5117">+close(): boolean</text></g><!--MD5=[ad510ca42d1a057b37ac2813b8ee5b40]
class Connection--><g id="elem_Connection"><rect codeLine="14" fill="#F1F1F1" height="140.9297" id="Connection" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="259" x="809.5" y="205"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="79" x="899.5" y="225.5352">Connection</text><line style="stroke:#181818;stroke-width:0.5;" x1="810.5" x2="1067.5" y1="235.4883" y2="235.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="198" x="817.5" y="255.0234">+execute(statement): Cursor</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="136" x="817.5" y="275.5117">+commit(): boolean</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="140" x="817.5" y="296">+rollback(): boolean</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="243" x="817.5" y="316.4883">+setautocommit(boolean): boolean</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="120" x="817.5" y="336.9766">+close(): boolean</text></g><!--MD5=[43bc8de5d26014391ba42963c7d8ee92]
class Cursor--><g id="elem_Cursor"><rect codeLine="22" fill="#F1F1F1" height="120.4414" id="Cursor" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250" x="1040" y="483"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="47" x="1141.5" y="503.5352">Cursor</text><line style="stroke:#181818;stroke-width:0.5;" x1="1041" x2="1289" y1="513.4883" y2="513.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="120" x="1048" y="533.0234">+close(): boolean</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="234" x="1048" y="553.5117">+fetch([table[,modestring]]): table</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="184" x="1048" y="574">+getcolnames(): list (table)</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="175" x="1048" y="594.4883">+getcoltypes(): list (table)</text></g><!--MD5=[349aff44b982811dfd2e48fac3a8020c]
class Websocket--><g id="elem_Websocket"><rect codeLine="29" fill="#F1F1F1" height="99.9531" id="Websocket" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="327" x="502.5" y="770"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="73" x="629.5" y="790.5352">Websocket</text><line style="stroke:#181818;stroke-width:0.5;" x1="503.5" x2="828.5" y1="800.4883" y2="800.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="175" x="510.5" y="820.0234">+connect(url): Websocket</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="311" x="510.5" y="840.5117">+send_raw(payload, ignore_response): string</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="120" x="510.5" y="861">+close(): boolean</text></g><!--MD5=[afd180a7978f9792ffb37052bc13c173]
class ExasolWebsocket--><g id="elem_ExasolWebsocket"><rect codeLine="34" fill="#F1F1F1" height="181.9063" id="ExasolWebsocket" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="525" x="452.5" y="452"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="118" x="656" y="472.5352">ExasolWebsocket</text><line style="stroke:#181818;stroke-width:0.5;" x1="453.5" x2="976.5" y1="482.4883" y2="482.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="220" x="460.5" y="502.0234">+connect(url): ExasolWebsocket</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="285" x="460.5" y="522.5117">+send_login_command(): response, error</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="509" x="460.5" y="543">+send_login_credentials(username, encrypted_password): response, error</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="178" x="460.5" y="563.4883">+send_disconnect(): error</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="297" x="460.5" y="583.9766">+send_execute(statement): response, error</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="385" x="460.5" y="604.4648">-_send_json(payload, ignore_response): response, error</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="120" x="460.5" y="624.9531">+close(): boolean</text></g><!--MD5=[e2bfd397f219709ab644e20e047c7e91]
class WebsocketDatahandler--><g id="elem_WebsocketDatahandler"><rect codeLine="43" fill="#F1F1F1" height="140.9297" id="WebsocketDatahandler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="329" x="501.5" y="963"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="157" x="587.5" y="983.5352">WebsocketDatahandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="502.5" x2="829.5" y1="993.4883" y2="993.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="313" x="509.5" y="1013.0234">+handle_data(socket, opcode, message): void</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="141" x="509.5" y="1033.5117">+expect_data(): void</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="222" x="509.5" y="1054">+expected_data_received(): void</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="128" x="509.5" y="1074.4883">+get_data(): string</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="210" x="509.5" y="1094.9766">+has_received_data(): boolean</text></g><!--MD5=[f763f278e9d5f1d851c0346b1d94b281]
class togglebits.luws--><a href="https://github.com/toggledbits/LuWS" target="_top" title="https://github.com/toggledbits/LuWS" xlink:actuate="onRequest" xlink:href="https://github.com/toggledbits/LuWS" xlink:show="new" xlink:title="https://github.com/toggledbits/LuWS" xlink:type="simple"><g id="elem_togglebits.luws"><rect codeLine="56" fill="#F1F1F1" height="120.4414" id="togglebits.luws" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="349" x="22.5" y="760"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="31" x="181.5" y="780.5352">luws</text><line style="stroke:#181818;stroke-width:0.5;" x1="23.5" x2="370.5" y1="790.4883" y2="790.4883"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="333" x="30.5" y="810.0234">+wsopen(url, message_handler, options): socket</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="213" x="30.5" y="830.5117">+wssend(socket, opcode, data)</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="131" x="30.5" y="851">+wsreceive(socket)</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="118" x="30.5" y="871.4883">+wsclose(socket)</text></g></a><!--MD5=[329a093b3d703289aa413fc8d2c5dd2a]
link ExasolWebsocket to Websocket--><g id="link_ExasolWebsocket_Websocket"><path codeLine="50" d="M698.96,634.05 C690.92,679.16 681.49,732.04 674.79,769.68 " fill="none" id="ExasolWebsocket-Websocket" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="22" x="696" y="679.5684">use</text></g><!--MD5=[e3f014f7b8c3b53ffea36feb5ebedd6e]
reverse link togglebits.luws to Websocket--><g id="link_togglebits.luws_Websocket"><path codeLine="51" d="M376.67,820 C418.05,820 461.83,820 502.48,820 " fill="none" id="togglebits.luws-backto-Websocket" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="371.64,820,380.64,824,376.64,820,380.64,816,371.64,820" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="22" x="426" y="811.5684">use</text></g><!--MD5=[3f3adbcb3bd07828f6dd3cfceb51765b]
link Websocket to WebsocketDatahandler--><g id="link_Websocket_WebsocketDatahandler"><path codeLine="52" d="M666,870.05 C666,897.63 666,932.52 666,962.88 " fill="none" id="Websocket-WebsocketDatahandler" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="22" x="669" y="927.5684">use</text></g><!--MD5=[e3004c1e041cb1d46100d59e394eda92]
link entry to Environment--><g id="link_entry_Environment"><path codeLine="63" d="M654.29,84.5 C674.29,84.5 699.97,84.5 727.7,84.5 " fill="none" id="entry-to-Environment" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="732.9,84.5,723.9,80.5,727.9,84.5,723.9,88.5,732.9,84.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="38" x="674.5" y="76.0684">create</text></g><!--MD5=[1cb5af6dc6a00688cab7012960eb5a3d]
reverse link Environment to Connection--><g id="link_Environment_Connection"><path codeLine="64" d="M939,137.34 C939,158.19 939,182.54 939,204.89 " fill="none" id="Environment-backto-Connection" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="939,124.2,935,130.2,939,136.2,943,130.2,939,124.2" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="940" cy="165.1553" fill="none" rx="-2" ry="-2" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="81" x="944" y="169.5684">Composition</text><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="8" x="928.0063" y="146.9043">1</text><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="34" x="901.0406" y="192.2167">many</text></g><!--MD5=[da952dd95fe30009122d53414fbb509c]
reverse link Connection to Cursor--><g id="link_Connection_Cursor"><path codeLine="65" d="M1007,356.39 C1041.53,396.95 1082.76,445.38 1114.44,482.6 " fill="none" id="Connection-backto-Cursor" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="998.38,346.26,999.2238,353.4216,1006.1591,355.3971,1005.3152,348.2355,998.38,346.26" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="1039" cy="387.1553" fill="none" rx="-2" ry="-2" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="81" x="1043" y="391.5684">Composition</text><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="8" x="993.4678" y="368.4963">1</text><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="34" x="1070.3971" y="470.0786">many</text></g><!--MD5=[3e9eda5e5f182f4647cc1f986893f287]
link Connection to ExasolWebsocket--><g id="link_Connection_ExasolWebsocket"><path codeLine="67" d="M880.15,346.26 C852.93,378.52 820.25,417.25 791.18,451.71 " fill="none" id="Connection-ExasolWebsocket" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="22" x="856" y="391.5684">use</text><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="8" x="863.969" y="368.4963">1</text><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="8" x="786.7725" y="439.2628">1</text></g><!--MD5=[03fed23bf27d176fd54cbc90d3b2aa9c]
reverse link ExasolWebsocket to Cursor--><g id="link_ExasolWebsocket_Cursor"><path codeLine="68" d="M982.77,543 C1002.49,543 1021.76,543 1039.94,543 " fill="none" id="ExasolWebsocket-backto-Cursor" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="977.74,543,986.74,547,982.74,543,986.74,539,977.74,543" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="22" x="997.75" y="534.5684">use</text></g><!--MD5=[b681e5c52ad62c946df13e70900f02b5]
@startuml cl_exasol_driver_lua
!include ../clean.skin

package luasql.exasol {
    '[dsn -> req~luasql-entry-point~1 >> impl,utest]
    class entry {
        + exasol()
    }
    '[dsn -> req~luasql-environment~1 >> impl,utest,itest]
    class Environment {
        + connect(sourcename, username, password): Connection
        + close(): boolean
    }
    '[dsn -> req~luasql-connection~1 >> impl,utest,itest]
    class Connection {
        + execute(statement): Cursor
        + commit(): boolean
        + rollback(): boolean
        + setautocommit(boolean): boolean
        + close(): boolean
    }
    '[dsn -> req~luasql-cursor~1 >> impl,utest,itest]
    class Cursor {
        + close(): boolean
        + fetch([table[,modestring]]): table
        + getcolnames(): list (table)
        + getcoltypes(): list (table)
    }
    package websocket {
        class Websocket {
            +connect(url): Websocket
            +send_raw(payload, ignore_response): string
            +close(): boolean
        }
        class ExasolWebsocket {
            +connect(url): ExasolWebsocket
            +send_login_command(): response, error
            +send_login_credentials(username, encrypted_password): response, error
            +send_disconnect(): error
            +send_execute(statement): response, error
            -_send_json(payload, ignore_response): response, error
            +close(): boolean
        }
        class WebsocketDatahandler {
            +handle_data(socket, opcode, message): void
            +expect_data(): void
            +expected_data_received(): void
            +get_data(): string
            +has_received_data(): boolean
        }
        ExasolWebsocket - - Websocket : use
        Websocket .l.> togglebits.luws : use
        Websocket - - WebsocketDatahandler : use
    }
}
package togglebits <<external>> {
    class luws {
        +wsopen(url, message_handler, options): socket
        +wssend(socket, opcode, data)
        +wsreceive(socket)
        +wsclose(socket)
    }
}
entry -> Environment : create
Environment "1" *- - "many" Connection : +Composition
Connection "1" *- - "many" Cursor : +Composition
'Environment -> ExasolWebsocket : create
Connection "1" - - "1" ExasolWebsocket : use
Cursor .l.> ExasolWebsocket : use

url of togglebits is [[https://github.com/toggledbits/LuWS]]
url of togglebits.luws is [[https://github.com/toggledbits/LuWS]]

@enduml

@startuml cl_exasol_driver_lua
hide empty methods
hide empty attributes
skinparam style strictuml
skinparam classAttributeIconSize 0
!pragma horizontalLineBetweenDifferentPackageAllowed

skinparam defaultFontName Calibri

skinparam padding 2

package luasql.exasol {
    class entry {
        + exasol()
    }
    class Environment {
        + connect(sourcename, username, password): Connection
        + close(): boolean
    }
    class Connection {
        + execute(statement): Cursor
        + commit(): boolean
        + rollback(): boolean
        + setautocommit(boolean): boolean
        + close(): boolean
    }
    class Cursor {
        + close(): boolean
        + fetch([table[,modestring]]): table
        + getcolnames(): list (table)
        + getcoltypes(): list (table)
    }
    package websocket {
        class Websocket {
            +connect(url): Websocket
            +send_raw(payload, ignore_response): string
            +close(): boolean
        }
        class ExasolWebsocket {
            +connect(url): ExasolWebsocket
            +send_login_command(): response, error
            +send_login_credentials(username, encrypted_password): response, error
            +send_disconnect(): error
            +send_execute(statement): response, error
            -_send_json(payload, ignore_response): response, error
            +close(): boolean
        }
        class WebsocketDatahandler {
            +handle_data(socket, opcode, message): void
            +expect_data(): void
            +expected_data_received(): void
            +get_data(): string
            +has_received_data(): boolean
        }
        ExasolWebsocket - - Websocket : use
        Websocket .l.> togglebits.luws : use
        Websocket - - WebsocketDatahandler : use
    }
}
package togglebits <<external>> {
    class luws {
        +wsopen(url, message_handler, options): socket
        +wssend(socket, opcode, data)
        +wsreceive(socket)
        +wsclose(socket)
    }
}
entry -> Environment : create
Environment "1" *- - "many" Connection : +Composition
Connection "1" *- - "many" Cursor : +Composition
Connection "1" - - "1" ExasolWebsocket : use
Cursor .l.> ExasolWebsocket : use

url of togglebits is [[https://github.com/toggledbits/LuWS]]
url of togglebits.luws is [[https://github.com/toggledbits/LuWS]]

@enduml

PlantUML version 1.2022.2(Sat Mar 05 17:30:19 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>