<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="558px" preserveAspectRatio="none" style="width:870px;height:558px;background:#FFFFFF;" version="1.1" viewBox="0 0 870 558" width="870px" zoomAndPan="magnify"><defs/><g><rect height="30.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="169" x="353.5" y="10"/><text fill="#000000" font-family="Calibri" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="155" x="360.5" y="30.5352">Executing Statements</text><rect fill="#FFFFFF" height="433.7695" style="stroke:#181818;stroke-width:1.0;" width="10" x="49" y="108.4648"/><rect fill="#FFFFFF" height="347.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="202" y="133.7754"/><rect fill="#FFFFFF" height="146.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="594" y="167.0859"/><rect fill="#FFFFFF" height="433.7695" style="stroke:#181818;stroke-width:1.0;" width="10" x="751" y="108.4648"/><rect fill="#FFFFFF" height="79.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="756" y="200.3965"/><rect height="139.4629" style="stroke:#000000;stroke-width:1.5;fill:none;" width="382.5" x="134.5" y="328.3281"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="54" x2="54" y1="98.4648" y2="551.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="206.5" x2="206.5" y1="98.4648" y2="551.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="460" x2="460" y1="453.4805" y2="551.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="599" x2="599" y1="98.4648" y2="551.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="756" x2="756" y1="98.4648" y2="551.2344"/><rect fill="#E2E2F0" height="50.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="5" y="46.4883"/><text fill="#000000" font-family="Calibri" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="18.5" y="69.0234">«external»</text><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="80" x="14" y="85.5117">Client Code</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="144.5" y="61.4648"/><ellipse cx="162.5" cy="79.4648" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M164.9731,85.6079 Q164.3921,85.9067 163.7529,86.0562 Q163.1138,86.2056 162.4082,86.2056 Q159.9014,86.2056 158.5815,84.5537 Q157.2617,82.9019 157.2617,79.7808 Q157.2617,76.6514 158.5815,74.9995 Q159.9014,73.3477 162.4082,73.3477 Q163.1138,73.3477 163.7612,73.4971 Q164.4087,73.6465 164.9731,73.9453 L164.9731,76.668 Q164.3423,76.0869 163.7488,75.8171 Q163.1553,75.5474 162.5244,75.5474 Q161.1797,75.5474 160.4949,76.614 Q159.8101,77.6807 159.8101,79.7808 Q159.8101,81.8726 160.4949,82.9392 Q161.1797,84.0059 162.5244,84.0059 Q163.1553,84.0059 163.7488,83.7361 Q164.3423,83.4663 164.9731,82.8853 Z " fill="#000000"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="79" x="181.5" y="84">Connection</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="517" y="61.4648"/><ellipse cx="535" cy="79.4648" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M537.4731,85.6079 Q536.8921,85.9067 536.2529,86.0562 Q535.6138,86.2056 534.9082,86.2056 Q532.4014,86.2056 531.0815,84.5537 Q529.7617,82.9019 529.7617,79.7808 Q529.7617,76.6514 531.0815,74.9995 Q532.4014,73.3477 534.9082,73.3477 Q535.6138,73.3477 536.2612,73.4971 Q536.9087,73.6465 537.4731,73.9453 L537.4731,76.668 Q536.8423,76.0869 536.2488,75.8171 Q535.6553,75.5474 535.0244,75.5474 Q533.6797,75.5474 532.9949,76.614 Q532.3101,77.6807 532.3101,79.7808 Q532.3101,81.8726 532.9949,82.9392 Q533.6797,84.0059 535.0244,84.0059 Q535.6553,84.0059 536.2488,83.7361 Q536.8423,83.4663 537.4731,82.8853 Z " fill="#000000"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="118" x="554" y="84">ExasolWebsocket</text><rect fill="#E2E2F0" height="34.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="691" y="62.9766"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="112" x="700" y="85.5117">Exasol Database</text><rect fill="#FFFFFF" height="433.7695" style="stroke:#181818;stroke-width:1.0;" width="10" x="49" y="108.4648"/><rect fill="#FFFFFF" height="347.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="202" y="133.7754"/><rect fill="#FFFFFF" height="146.2422" style="stroke:#181818;stroke-width:1.0;" width="10" x="594" y="167.0859"/><rect fill="#FFFFFF" height="433.7695" style="stroke:#181818;stroke-width:1.0;" width="10" x="751" y="108.4648"/><rect fill="#FFFFFF" height="79.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="756" y="200.3965"/><polygon fill="#181818" points="190,129.7754,200,133.7754,190,137.7754" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="59" x2="196" y1="133.7754" y2="133.7754"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="120" x="68" y="127.0332">execute(statement)</text><polygon fill="#181818" points="582,163.0859,592,167.0859,582,171.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="588" y1="167.0859" y2="167.0859"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="157" x="221" y="160.3438">send_execute(statement)</text><polygon fill="#181818" points="744,196.3965,754,200.3965,744,204.3965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="604" x2="750" y1="200.3965" y2="200.3965"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="49" x="613" y="193.6543">execute</text><line style="stroke:#181818;stroke-width:1.0;" x1="766" x2="808" y1="233.707" y2="233.707"/><line style="stroke:#181818;stroke-width:1.0;" x1="808" x2="808" y1="233.707" y2="246.707"/><line style="stroke:#181818;stroke-width:1.0;" x1="767" x2="808" y1="246.707" y2="246.707"/><polygon fill="#181818" points="777,242.707,767,246.707,777,250.707" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="88" x="775" y="226.9648">Execute query</text><polygon fill="#181818" points="615,276.0176,605,280.0176,615,284.0176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="609" x2="750" y1="280.0176" y2="280.0176"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="58" x="623" y="273.2754">Resultset</text><polygon fill="#181818" points="223,309.3281,213,313.3281,223,317.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="217" x2="598" y1="313.3281" y2="313.3281"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="58" x="231" y="306.5859">Resultset</text><path d="M134.5,328.3281 L200.5,328.3281 L200.5,339.6387 L190.5,349.6387 L134.5,349.6387 L134.5,328.3281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="139.4629" style="stroke:#000000;stroke-width:1.5;" width="382.5" x="134.5" y="328.3281"/><text fill="#000000" font-family="Calibri" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="151.5" y="343.8965">alt</text><text fill="#000000" font-family="Calibri" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="154" x="217.5" y="342.9629">[Resultset handle available]</text><polygon fill="#181818" points="402,388.2148,412,392.2148,402,396.2148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="408" y1="392.2148" y2="392.2148"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="113" x="221" y="370.1621">create(session_id,</text><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="174" x="221" y="385.4727">metadata, resultset_handle)</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="414" y="353.2148"/><ellipse cx="432" cy="371.2148" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M434.4731,377.3579 Q433.8921,377.6567 433.2529,377.8062 Q432.6138,377.9556 431.9082,377.9556 Q429.4014,377.9556 428.0815,376.3037 Q426.7617,374.6519 426.7617,371.5308 Q426.7617,368.4014 428.0815,366.7495 Q429.4014,365.0977 431.9082,365.0977 Q432.6138,365.0977 433.2612,365.2471 Q433.9087,365.3965 434.4731,365.6953 L434.4731,368.418 Q433.8423,367.8369 433.2488,367.5671 Q432.6553,367.2974 432.0244,367.2974 Q430.6797,367.2974 429.9949,368.364 Q429.3101,369.4307 429.3101,371.5308 Q429.3101,373.6226 429.9949,374.6892 Q430.6797,375.7559 432.0244,375.7559 Q432.6553,375.7559 433.2488,375.4861 Q433.8423,375.2163 434.4731,374.6353 Z " fill="#000000"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="47" x="451" y="375.75">Cursor</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="134.5" x2="517" y1="401.2148" y2="401.2148"/><text fill="#000000" font-family="Calibri" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="170" x="141.5" y="413.8496">[No resultset handle available]</text><polygon fill="#181818" points="402,455.791,412,459.791,402,463.791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="212" x2="408" y1="459.791" y2="459.791"/><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="113" x="221" y="437.7383">create(session_id,</text><text fill="#000000" font-family="Calibri" font-size="13" lengthAdjust="spacing" textLength="86" x="221" y="453.0488">metadata, nil)</text><rect fill="#E2E2F0" height="36" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="414" y="420.791"/><ellipse cx="432" cy="438.791" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M434.4731,444.9341 Q433.8921,445.2329 433.2529,445.3823 Q432.6138,445.5317 431.9082,445.5317 Q429.4014,445.5317 428.0815,443.8799 Q426.7617,442.228 426.7617,439.1069 Q426.7617,435.9775 428.0815,434.3257 Q429.4014,432.6738 431.9082,432.6738 Q432.6138,432.6738 433.2612,432.8232 Q433.9087,432.9727 434.4731,433.2715 L434.4731,435.9941 Q433.8423,435.4131 433.2488,435.1433 Q432.6553,434.8735 432.0244,434.8735 Q430.6797,434.8735 429.9949,435.9402 Q429.3101,437.0068 429.3101,439.1069 Q429.3101,441.1987 429.9949,442.2654 Q430.6797,443.332 432.0244,443.332 Q432.6553,443.332 433.2488,443.0623 Q433.8423,442.7925 434.4731,442.2114 Z " fill="#000000"/><text fill="#000000" font-family="Calibri" font-size="14" lengthAdjust="spacing" textLength="47" x="451" y="443.3262">Cursor</text><polygon fill="#181818" points="70,476.791,60,480.791,70,484.791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="64" x2="206" y1="480.791" y2="480.791"/><rect height="47.4434" style="stroke:#000000;stroke-width:1.5;fill:none;" width="508" x="2" y="488.791"/><path d="M2,488.791 L70,488.791 L70,499.791 L60,509.791 L2,509.791 L2,488.791 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="Calibri" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="17" y="505.3594">ref</text><text fill="#000000" font-family="Calibri" font-size="12" lengthAdjust="spacing" textLength="246" x="133" y="527.3926">Use cursor to fetch rows and get metadata</text><!--MD5=[f82adff308a23379833cdff81a565fd5]
@startuml seq_connection_execute
!include ../clean.skin

title: Executing Statements

participant "Client Code" as client <<external>>
participant Connection as conn << (C,#ADD1B2) >>
participant Cursor as cur << (C,#ADD1B2) >>
participant ExasolWebsocket as ws << (C,#ADD1B2) >>
participant "Exasol Database" as db

activate client
activate db
client -> conn: execute(statement)
activate conn
conn -> ws: send_execute(statement)
activate ws

ws -> db: execute
activate db
db -> db: Execute query
db - -> ws: Resultset
deactivate db

ws - -> conn: Resultset
deactivate ws
alt Resultset handle available
    create cur
    conn -> cur: create(session_id,\nmetadata, resultset_handle)
else No resultset handle available
    create cur
    conn -> cur: create(session_id,\nmetadata, nil)
end
conn - -> client
deactivate conn

ref over client, cur: Use cursor to fetch rows and get metadata

@enduml

@startuml seq_connection_execute
hide empty methods
hide empty attributes
skinparam style strictuml
skinparam classAttributeIconSize 0
!pragma horizontalLineBetweenDifferentPackageAllowed

skinparam defaultFontName Calibri

skinparam padding 2

title: Executing Statements

participant "Client Code" as client <<external>>
participant Connection as conn << (C,#ADD1B2) >>
participant Cursor as cur << (C,#ADD1B2) >>
participant ExasolWebsocket as ws << (C,#ADD1B2) >>
participant "Exasol Database" as db

activate client
activate db
client -> conn: execute(statement)
activate conn
conn -> ws: send_execute(statement)
activate ws

ws -> db: execute
activate db
db -> db: Execute query
db - -> ws: Resultset
deactivate db

ws - -> conn: Resultset
deactivate ws
alt Resultset handle available
    create cur
    conn -> cur: create(session_id,\nmetadata, resultset_handle)
else No resultset handle available
    create cur
    conn -> cur: create(session_id,\nmetadata, nil)
end
conn - -> client
deactivate conn

ref over client, cur: Use cursor to fetch rows and get metadata

@enduml

PlantUML version 1.2022.2(Sat Mar 05 17:30:19 CET 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>